<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!-- update the version number as needed -->
    <!-- <script defer src="/__/firebase/7.5.0/firebase-app.js"></script> -->
    <!-- include only the Firebase features as you need -->
    <!-- <script defer src="/__/firebase/7.5.0/firebase-auth.js"></script>
    <script defer src="/__/firebase/7.5.0/firebase-database.js"></script>
    <script defer src="/__/firebase/7.5.0/firebase-messaging.js"></script>
    <script defer src="/__/firebase/7.5.0/firebase-storage.js"></script> -->
    <!-- initialize the SDK after all desired features are loaded -->
    <!-- <script defer src="/__/firebase/init.js"></script> -->


  </head>
  <body>
    <div class="container">
      <br>
      <div class="titlename text-center">
        <h2>คำนวนค่าไฟห้อง</h2>
      </div>
      <hr>
      <div class="divData"></div>
      <!-- <div class="divDataline99">
        <div class="row">
          <div class="col-md-2">
              <div class="form-group">
                  <label for="nameDevice">ชื่ออุปกรณ์:</label>
                  <input type="text" class="form-control" id="nameDevice">
              </div>
          </div>    
          <div class="col-md-2">
              <div class="form-group">
                  <label for="watt">การกินไฟ(Watt):</label>
                  <input type="number" class="form-control" id="watt" value="">
              </div>
          </div>        
          <div class="col-md-2">
              <div class="form-group">
                  <label for="usingperday">ชั่วโมงการใช้(ต่อวัน):</label>
                  <input type="number" class="form-control" id="usingperday" value="">
              </div>
          </div>     
          <div class="col-md-2">
              <div class="form-group">
                  <label for="electricprice">ค่าไฟ(ต่อหน่วย):</label>
                  <input type="number" class="form-control" id="electricprice" value="">
              </div>
          </div>          
        </div>
        <div class="row">
            <div class="col-md-2">
                <div class="form-group">
                    <label>หน่วยต่อวัน : </label>
                    <label class="" id="showUnitPerDay"></label>
                </div>
            </div>    
            <div class="col-md-2">
                <div class="form-group">
                    <label>หน่วยต่อเดือน : </label>
                    <label class="" id="showUnitPerMonth"></label>
                </div>
            </div>       
            <div class="col-md-2">
                <div class="form-group">
                    <label>ค่าไฟต่อเครื่อง: </label>
                    <label class="" id="showResultPerDevice"></label>
                </div>
            </div>           
          </div>         -->
        <!-- <div class="col-md-2">
            <div class="form-group">
                <button type="button" onclick="DeleteRow()">ลบ</button>
            </div>
        </div>   -->
      <!-- </div> -->
      <hr> 
      <div class="divResult row">
        <div class="BTNAddRow col-md-4">
          <button type="button" onclick="AddRow()">เพิ่ม</button>
        </div>
        <div class="BTNAddRow col-md-1">
            <button type="button" onclick="ShowResult()">ตกลง</button>
        </div>
        <div class="col-md-4">
          <span> XXX <label class="resultPerMonth"> บาทต่อเดือน</label></span>                 
        </div>
      </div>
      <div class="row divTest" id="testXX">

      </div>
    </div>
    <script>
      var G_divDatalineCount = 1;
      window.onload= function(){
        // var innerHTMLText = '<div class="col-md-2">'+
        //       '<div class="form-group">'+
        //           '<label for="nameDevice">ชื่ออุปกรณ์:</label>'+
        //           '<input type="text" class="form-control" id="nameDevice">'+
        //       '</div>'+
        //   '</div>';
        // var NewItemDiv = document.createElement("div");
        // NewItemDiv.classList.add("row");
        // var TextNode = document.createTextNode("innerHTMLText");
        // NewItemDiv.appendChild(TextNode);

        // var testXX = document.getElementById("testXX");
        // testXX.appendChild(NewItemDiv);
        AddRow();
      }

      function AddRow(){
        var divRow = document.createElement("div");
        divRow.classList.add("divDataline" + G_divDatalineCount);
        document.getElementsByClassName("divData")[0].appendChild(divRow);
        

        AddElementDivForm(0,"nameDevice","ชื่ออุปกรณ์:");
        AddElementDivForm(1,"watt","การกินไฟ(Watt):");
        G_divDatalineCount++;

      }

      function AddElementDivForm(countColumn,inputId, lblText){
        var labelFormData = document.createElement("label");
        labelFormData.setAttribute("for", inputId);        
        labelFormData.appendChild(document.createTextNode(lblText));
        var inputFormData = document.createElement("input");
        inputFormData.setAttribute("type", "text");
        inputFormData.setAttribute("class", "form-control");
        inputFormData.setAttribute("id", inputId);
        
        var divFormGroup = document.createElement("div");
        divFormGroup.classList.add("form-group");
        divFormGroup.appendChild(labelFormData)[0];
        divFormGroup.appendChild(inputFormData)[1];

        var divForm = document.createElement("div");
        divForm.classList.add("col-md-2");
        divForm.appendChild(divFormGroup)[0];

        document.getElementsByClassName("divDataline" + G_divDatalineCount)[countColumn].appendChild(divForm);    
      }

      function ShowResult(){
        var watt = document.getElementById("watt").value;
        var usingperday = document.getElementById("usingperday").value;
        var electricprice = document.getElementById("electricprice").value;

        var resultshowUnitPerDay = (watt/1000)*usingperday;        
        document.getElementById("showUnitPerDay").innerHTML = resultshowUnitPerDay;

        var resultshowUnitPerMonth = (resultshowUnitPerDay*30);
        document.getElementById("showUnitPerMonth").innerHTML = resultshowUnitPerMonth;

        var resultshowResultPerDevice = (resultshowUnitPerMonth*electricprice);
        document.getElementById("showResultPerDevice").innerHTML = resultshowResultPerDevice;
      }

      function DeleteRow(){
        
      }
    </script>
  </body>
</html>
